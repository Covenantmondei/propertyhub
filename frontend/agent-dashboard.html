<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Agent Dashboard | PropertyHub</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/agent-dashboard.css">
    <link rel="stylesheet" href="css/alerts.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        .notification-badge {
            position: absolute;
            top: 8px;
            right: 8px;
            background: #ef4444;
            color: white;
            font-size: 0.7rem;
            font-weight: 600;
            padding: 2px 6px;
            border-radius: 10px;
            min-width: 18px;
            text-align: center;
            line-height: 1.2;
        }
        .btn-icon {
            position: relative;
        }
    </style>
</head>
<body>
    <header>
        <div class="header-container">
            <div class="flex items-center gap-6">
                <a href="home.html" class="logo">PropertyHub</a>
                <nav>
                    <ul class="nav-menu desktop">
                        <li><a href="home.html" class="nav-link">Home</a></li>
                        <li><a href="properties.html" class="nav-link">Properties</a></li>
                        <li><a href="agent-dashboard.html" class="nav-link active">Dashboard</a></li>
                        <li><a href="visits.html" class="nav-link">Visits</a></li>
                    </ul>
                </nav>
            </div>
            <div class="header-actions">
                <button class="btn btn-icon btn-ghost" id="theme-toggle" aria-label="Toggle theme">
                    <svg class="icon sun-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg>
                    <svg class="icon moon-icon hidden" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"/></svg>
                </button>
                <!-- Messages Button -->
                <a href="chat.html" class="btn btn-icon btn-ghost" id="messages-btn" title="Messages">
                    <svg class="icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"/></svg>
                    <span class="notification-badge" id="messages-badge" style="display: none;">0</span>
                </a>
                <!-- Notifications Icon (for agents) -->
                <button class="btn btn-icon btn-ghost" id="notifications-btn" title="Notifications">
                    <svg class="icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"/><path d="M13.73 21a2 2 0 0 1-3.46 0"/></svg>
                    <span class="notification-badge" id="notifications-badge" style="display: none;">0</span>
                </button>
                <!-- List Property Button -->
                <a href="new-property.html" class="btn btn-sm btn-primary desktop-only" id="list-property-btn">
                    <svg class="icon icon-sm" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><line x1="12" y1="5" x2="12" y2="19"/><line x1="5" y1="12" x2="19" y2="12"/></svg>
                    List Property
                </a>
                <button class="btn btn-icon btn-ghost" id="profile-btn" title="Profile">
                    <svg class="icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"/><circle cx="12" cy="7" r="4"/></svg>
                </button>
                <button class="btn btn-icon btn-ghost mobile-menu-btn" id="mobile-menu-toggle">
                    <svg class="icon menu-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><line x1="3" y1="12" x2="21" y2="12"/><line x1="3" y1="6" x2="21" y2="6"/><line x1="3" y1="18" x2="21" y2="18"/></svg>
                    <svg class="icon close-icon hidden" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><line x1="18" y1="6" x2="6" y2="18"/><line x1="6" y1="6" x2="18" y2="18"/></svg>
                </button>
            </div>
        </div>
        <div class="mobile-menu" id="mobile-menu">
            <nav class="grid gap-2">
                <a href="home.html" class="nav-link">Home</a>
                <a href="properties.html" class="nav-link">Properties</a>
                <a href="agent-dashboard.html" class="nav-link active">Dashboard</a>
                <a href="visits.html" class="nav-link">Visits</a>
                <a href="chat.html" class="nav-link" id="mobile-messages-link">
                    Messages
                    <span class="notification-badge" id="mobile-messages-badge" style="display: none;">0</span>
                </a>
                <a href="new-property.html" class="nav-link" id="mobile-list-property-btn">List Property</a>
            </nav>
        </div>
    </header>

    <!-- Main Content -->
    <main class="dashboard-main">
        <div class="container">
            <!-- Dashboard Header -->
            <div class="dashboard-header">
                <div class="header-content">
                    <h1>Agent Dashboard</h1>
                    <p class="text-muted">Welcome back, <span id="agent-name">Agent</span>!</p>
                </div>
                <div class="header-actions">
                    <button class="btn btn-primary" onclick="window.location.href='new-property.html'">
                        <i class="fas fa-plus"></i>
                        Add New Property
                    </button>
                </div>
            </div>

            <!-- KYC Status Alert -->
            <div id="kycStatusAlert" style="display: none;"></div>

            <!-- Stats Cards -->
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-icon" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);">
                        <i class="fas fa-home"></i>
                    </div>
                    <div class="stat-content">
                        <h3 id="total-properties">0</h3>
                        <p>Total Properties</p>
                    </div>
                </div>

                <div class="stat-card">
                    <div class="stat-icon" style="background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);">
                        <i class="fas fa-check-circle"></i>
                    </div>
                    <div class="stat-content">
                        <h3 id="approved-properties">0</h3>
                        <p>Approved</p>
                    </div>
                </div>

                <div class="stat-card">
                    <div class="stat-icon" style="background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);">
                        <i class="fas fa-clock"></i>
                    </div>
                    <div class="stat-content">
                        <h3 id="pending-properties">0</h3>
                        <p>Pending Approval</p>
                    </div>
                </div>

                <div class="stat-card">
                    <div class="stat-icon" style="background: linear-gradient(135deg, #fa709a 0%, #fee140 100%);">
                        <i class="fas fa-comments"></i>
                    </div>
                    <div class="stat-content">
                        <h3 id="total-messages">0</h3>
                        <p>Messages</p>
                    </div>
                </div>

                <div class="stat-card">
                    <div class="stat-icon" style="background: linear-gradient(135deg, #a8edea 0%, #fed6e3 100%);">
                        <i class="fas fa-calendar-check"></i>
                    </div>
                    <div class="stat-content">
                        <h3 id="pending-visits">0</h3>
                        <p>Pending Visits</p>
                    </div>
                </div>
            </div>

            <!-- Quick Actions -->
            <div class="quick-actions">
                <h2>Quick Actions</h2>
                <div class="actions-grid">
                    <a href="new-property.html" class="action-card">
                        <div class="action-icon">
                            <i class="fas fa-plus-circle"></i>
                        </div>
                        <h3>Add Property</h3>
                        <p>List a new property for sale or rent</p>
                    </a>

                    <a href="properties.html" class="action-card">
                        <div class="action-icon">
                            <i class="fas fa-search"></i>
                        </div>
                        <h3>Browse Properties</h3>
                        <p>View all listed properties</p>
                    </a>

                    <a href="#" class="action-card" onclick="scrollToProperties(); return false;">
                        <div class="action-icon">
                            <i class="fas fa-edit"></i>
                        </div>
                        <h3>Manage Listings</h3>
                        <p>Edit or delete your properties</p>
                    </a>

                    <a href="chat.html" class="action-card" id="messages-link">
                        <div class="action-icon">
                            <i class="fas fa-envelope"></i>
                        </div>
                        <h3>View Messages</h3>
                        <p>Check inquiries and chats</p>
                    </a>

                    <a href="visits.html" class="action-card">
                        <div class="action-icon">
                            <i class="fas fa-calendar-alt"></i>
                        </div>
                        <h3>Manage Visits</h3>
                        <p>View and respond to visit requests</p>
                    </a>

                    <a href="kyc-verification.html" class="action-card">
                        <div class="action-icon">
                            <i class="fas fa-id-card"></i>
                        </div>
                        <h3>KYC Verification</h3>
                        <p>Verify your identity to unlock all features</p>
                    </a>
                </div>
            </div>

            <!-- My Properties Section -->
            <div class="properties-section">
                <div class="section-header">
                    <h2>My Properties</h2>
                    <div class="filter-tabs">
                        <button class="filter-btn active" data-filter="all">All</button>
                        <button class="filter-btn" data-filter="approved">Approved</button>
                        <button class="filter-btn" data-filter="pending">Pending</button>
                    </div>
                </div>

                <!-- Loading State -->
                <div id="loading-properties" class="loading-state">
                    <i class="fas fa-spinner fa-spin"></i>
                    <p>Loading your properties...</p>
                </div>

                <!-- Empty State -->
                <div id="empty-state" class="empty-state" style="display: none;">
                    <i class="fas fa-home"></i>
                    <h3>No Properties Yet</h3>
                    <p>Start by adding your first property listing</p>
                    <a href="new-property.html" class="btn btn-primary">
                        <i class="fas fa-plus"></i>
                        Add Property
                    </a>
                </div>

                <!-- Properties Grid -->
                <div id="properties-grid" class="properties-grid" style="display: none;">
                    <!-- Properties will be dynamically loaded here -->
                </div>
            </div>
        </div>
    </main>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <p>&copy; 2025 Real Estate Platform. All rights reserved.</p>
        </div>
    </footer>

    <!-- Notification Container -->
    <div id="notification-container"></div>

    <!-- Scripts -->
    <script src="js/main.js"></script>
    <script src="js/alerts.js"></script>
    <script src="js/agent-dashboard.js"></script>
</body>
</html>
